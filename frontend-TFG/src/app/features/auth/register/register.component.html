<div class="auth-page">
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
  </div>

  <div class="glass-card shadow-lg">
    <h2 class="auth-title">Únete a la <br><span class="gradient-text">comunidad</span></h2>

    <form (ngSubmit)="onSubmit()" #registerForm="ngForm" novalidate>
      <div class="form-group">
        <label for="username" class="label-with-icon">
          <i class="bi bi-person-fill"></i> Usuario
        </label>
        <input type="text" id="username" name="username" [(ngModel)]="registerData.username" #username="ngModel"
          class="form-control" placeholder="Nombre de usuario"
          [class.is-invalid]="username.invalid && (username.dirty || username.touched)" required
          autocomplete="username">
      </div>

      <div class="form-group">
        <label for="email" class="label-with-icon">
          <i class="bi bi-envelope-fill"></i> Email
        </label>
        <input type="email" id="email" name="email" [(ngModel)]="registerData.email" #email="ngModel"
          class="form-control" placeholder="tu@email.com"
          [class.is-invalid]="email.invalid && (email.dirty || email.touched)" required email autocomplete="email">
      </div>

      <div class="form-group">
        <label for="password" class="label-with-icon">
          <i class="bi bi-lock-fill"></i> Contraseña
        </label>
        <input type="password" id="password" name="password" [(ngModel)]="registerData.password" #password="ngModel"
          class="form-control" placeholder="Mínimo 6 caracteres"
          [class.is-invalid]="password.invalid && (password.dirty || password.touched)" required
          autocomplete="new-password">
      </div>

      <div class="form-group mb-5">
        <label for="confirmPassword" class="label-with-icon">
          <i class="bi bi-shield-check"></i> Confirmar
        </label>
        <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="registerData.confirmPassword"
          #confirmPassword="ngModel" class="form-control" placeholder="Repite tu contraseña"
          [class.is-invalid]="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" required
          autocomplete="new-password">
      </div>

      <button type="submit" class="btn-premium btn-premium-primary" [disabled]="registerForm.invalid || isLoading">
        <span *ngIf="!isLoading">Crear Cuenta <i class="bi bi-pencil-square ms-1"></i></span>
        <span *ngIf="isLoading">
          <span class="spinner-border spinner-border-sm me-2" role="status"></span>
          Registrando...
        </span>
      </button>
    </form>

    <div class="auth-footer">
      <p class="mb-0">¿Ya tienes cuenta? <a routerLink="/login" class="auth-link">Inicia Sesión</a></p>
    </div>
  </div>
</div>