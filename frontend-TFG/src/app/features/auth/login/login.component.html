<div class="auth-page">
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
  </div>

  <div class="glass-card shadow-lg">
    <h2 class="auth-title">Bienvenido <br><span class="gradient-text">de nuevo</span></h2>

    <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
      <i class="bi bi-exclamation-circle-fill"></i>
      {{ errorMessage }}
    </div>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm" novalidate>
      <div class="form-group">
        <label for="email" class="label-with-icon">
          <i class="bi bi-envelope-fill"></i> Email
        </label>
        <input type="email" id="email" name="email" [(ngModel)]="loginData.email" #email="ngModel" class="form-control"
          placeholder="tu@email.com" [class.is-invalid]="email.invalid && (email.dirty || email.touched)" required email
          autocomplete="email">
        <div class="invalid-feedback" *ngIf="email.invalid && (email.dirty || email.touched)">
          Email inválido
        </div>
      </div>

      <div class="form-group mb-5">
        <label for="password" class="label-with-icon">
          <i class="bi bi-lock-fill"></i> Contraseña
        </label>
        <input type="password" id="password" name="password" [(ngModel)]="loginData.password" #password="ngModel"
          class="form-control" placeholder="••••••••"
          [class.is-invalid]="password.invalid && (password.dirty || password.touched)" required
          autocomplete="current-password">
        <div class="invalid-feedback" *ngIf="password.invalid && (password.dirty || password.touched)">
          La contraseña es obligatoria
        </div>
      </div>

      <button type="submit" class="btn-premium btn-premium-primary" [disabled]="loginForm.invalid || isLoading">
        <span *ngIf="!isLoading">Iniciar Sesión <i class="bi bi-arrow-right-short ms-1"></i></span>
        <span *ngIf="isLoading">
          <span class="spinner-border spinner-border-sm me-2" role="status"></span>
          Conectando...
        </span>
      </button>
    </form>

    <div class="auth-footer">
      <p class="mb-0">¿No tienes cuenta? <a routerLink="/register" class="auth-link">Regístrate</a></p>
    </div>
  </div>
</div>